<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="AlterVista - Editor HTML"/>
  <title></title>
  <style>
    p { 
    margin-top: 50pt;
    margin-bottom: 20pt;
    margin-left: 200pt;
    margin-right: 200pt;
    border:solid 5px;
    text-align:center;
    background-color: #FF831C;
    border-color: #54BAE2;
    }
    ul {
    font-family: Verdana, sans-serif;
    font-size: 11px;
    margin: 0;
    padding: 0;
    list-style: none;
}
li {
    background-color: #FF831C;
    border-bottom: 5px solid #54BAE2;
    display: block;
    width: 150px;
    height: 30px;
    margin: 2px;
    float: left; /* elementi su singola riga */
}
a
{
color: #fff;
    display: block;
    font-weight: bold;
    line-height: 30px;
    padding-left: 15px;
    text-decoration: none;
    width: 135px; 
    height: 30px;
}
ul#menu li.active, ul#menu li:hover {
    background-color: #54BAE2;
    border-bottom: 5px solid #FF831C;
}
  </style>
  <script>
    
    var nuovaPassword;
    var ripetiPassword;
    var passwordAttuale;
    var matricola;
    
    function controlla()
    {
        nuovaPassword = document.getElementById("nuovaPassword").value;
        ripetiPassword = document.getElementById("ripetiPassword").value;
        if(nuovaPassword == ripetiPassword)
        {
           cambiaPassword();
        }
        else
        {
           alert("Le password inserite non coincidono");
        }
    }
    function cambiaPassword()
    {
     var http = null;
     if(window.XMLHttpRequest)
     {
        http = new XMLHttpRequest();
     }
     else if(window.ActiveXObject)
     {
       http = new ActiveXObject("Microsoft.XMLHTTP");
     }
        passwordAttuale = document.getElementById("passwordAttuale").value;
        matricola = document.getElementById("matricola").value;
        http.onreadystatechange = requestStateHandler;
        http.open("GET", 'modificaPasswordUtente.php?password='+passwordAttuale+"&matricola="+matricola+"&nPassword="+nuovaPassword, true);
        http.send(null);
        
     
     function requestStateHandler()
     {
        if(http.readyState == 4 && http.status == 200)
        {
          alert("richiesta effettuata");
          open("home.html");
          window.close();
        }
     }
    }


  </script>
</head>
<body  style = "background-image: url(test2.jpg); background-size:1500px; color:#ffffff;">
<ul id="menu">
    <li><a href="areaStudente.html">Home</a></li>
    <li><a href="elencoTest.php"> Elenco dei test </a></li>
    <li><a href="proveUtente.html"> Prove svolte </a></li>
    <li><a href="cambiaPasswordUtente.html"> Cambia password </a></li>
    <li><a href="home.html">Logout</a></li>
</ul> <br> <br>
  <form>
  <p>
  <b> Cambia password </b> <br>
  Inserisci la tua matricola: <input type = "text" id = "matricola" style = "margin-left:20pt; margin-top:10pt;"> <br>
  Inserisci password attuale: <input type = "password" id = "passwordAttuale" style = "margin-left:15pt; margin-top:10pt;"> <br>
  Inserisci nuova password: <input type = "password" id = "nuovaPassword" style = "margin-left:20pt; margin-top:10pt;"> <br>
  Ripeti nuova password: <input type = "password" id = "ripetiPassword" style = "margin-left:35pt; margin-top:10pt;"> <br>
  <input type = "button" onClick = "controlla()" value = "conferma" style = "margin-top:10pt;">
  </p>
  </form>
 

</body>
</html>
